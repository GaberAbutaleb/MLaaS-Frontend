<div [ngBusy]="busy">
    <mat-expansion-panel expanded="true">
      <mat-expansion-panel-header expandedHeight="37px" style="background-color: #648bb9; color:white">
        Diplay your models
      </mat-expansion-panel-header>
  
      <mat-card class="example-card" style="margin-top: 25px;">
        <mat-card-header>
          <div mat-card-avatar style="width: 9px;"><i class="material-icons">
              attach_file
            </i> </div>
          <mat-card-title>Table of your models</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div  class="container-fluid" style=" padding-top: 20px;">

                <div class="row">
            
                  <div class="col-lg-12">
                      <div [ngBusy]="busy"  ></div>
                    <button (click)="refreshcomponent()" style="background-color: #3f51b5;" mat-mini-fab >
                      <i class="material-icons"> refresh</i></button>

                      <button mat-mini-fab color="warn"   (click)="openAddnewparamDialog('delete','')"
                      style="margin-left: 5px;">
                          <i class="material-icons">delete</i></button>
                          
                    <div style="  overflow-x: auto;  ">
                      <div class="mat-elevation-z8">
                        <mat-form-field style="width: 100%">
                          <input matInput (keyup)="applyFilter($event)" placeholder="Filter">
                        </mat-form-field>
            
            
                        <div class="example-table-container">
                          <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 table-bordered">
            
                            <ng-container matColumnDef="select">
                              <th style="  padding-left: 0px; text-align: center; padding-top: 1%; padding-left: 5px;  padding-right: 5px;"
                                mat-header-cell *matHeaderCellDef>
                                <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
                                  [indeterminate]="selection.hasValue() && !isAllSelected()">
                                </mat-checkbox>
                              </th>
                              <td mat-cell style="text-align: center; padding-left: 0px; padding-top: 1%;  padding-left: 5px;  padding-right: 5px;"
                                *matCellDef="let row">
                                <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                                  [checked]="selection.isSelected(row)">
                                </mat-checkbox>
                              </td>
                            </ng-container>

               <ng-container matColumnDef="username">
                 <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px; width: 80%"> User Name </th>
                 <td mat-cell *matCellDef="let element" style="padding-left: 10px;"> {{element.username}} </td>
               </ng-container>

             <ng-container matColumnDef="model_Category">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px; width: 80%"> Model Category </th>
                <td mat-cell *matCellDef="let element" style="padding-left: 10px;"> {{element.model_Category}} </td>
              </ng-container>

               <ng-container matColumnDef="model_used">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px; width: 80%"> Model used </th>
                <td mat-cell *matCellDef="let element" style="padding-left: 10px;"> {{element.model_used}} </td>
              </ng-container>

               <ng-container matColumnDef="deployment_Model_Name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px; width: 80%"> Deployment Model </th>
                <td mat-cell *matCellDef="let element" style="padding-left: 10px;"><a style="font-style: italic; color: blue; cursor: pointer;" 
                   (click)="downloadDeploymentFile(element.deployment_Model_Name)">
                  {{element.deployment_Model_Name}} </a> </td>
              </ng-container>

               <ng-container matColumnDef="create_date">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px; width: 80%"> Create Date </th>
                <td mat-cell *matCellDef="let element" style="padding-left: 10px;"> {{element.create_date}} </td>
              </ng-container>

               <ng-container matColumnDef="Model_Output_File_Name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-left: 10px; width: 80%">  Model File </th>
                <td mat-cell *matCellDef="let element" style="padding-left: 10px;"> <a style="font-style: italic; color: blue; cursor: pointer;" 
                   (click)="downloadOutPutFile(element.Model_Output_File_Name)">{{element.Model_Output_File_Name}} </a></td>
              </ng-container>
            
                            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
                            </tr>
                          </table>
                        </div>
                        <mat-paginator style="width: 100%"
                        [length]="resultsLength" [pageSize]="30"
                        [pageSizeOptions]="[5, 10, 25, 100]"
                          showFirstLastButtons></mat-paginator>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
  
  
        </mat-card-content>
        <mat-action-row  style="padding: 4px 4px 4px 4px;">
          
        </mat-action-row>
      </mat-card>
  
    </mat-expansion-panel>
  
  </div>
